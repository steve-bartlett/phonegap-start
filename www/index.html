<!DOCTYPE html>
<html>
  <head>
     <link href="css/jquery.mobile.structure-1.3.0.css" rel="stylesheet"/>
     <link href="css/avon_mobile.css" rel="stylesheet"/>

    <title>Cordova Offline Example</title>

    <script type="text/javascript" src="phonegap.js"></script>

	<script type="text/javascript" src="js/jquery-1.7.1.min.js"></script>
	<script type="text/javascript" src="js/jquery.mobile-1.3.0.min.js"></script>

    <script type="text/javascript" charset="utf-8">

    function onLoad() {
        document.addEventListener("deviceready", onDeviceReady, false);
    }

    function alertDismissed() {
        // do something
    }

    // Cordova is loaded and it is now safe to make calls Cordova methods
    //
    function onDeviceReady() {
	   document.addEventListener("online", onOnline, false);

        var networkState = navigator.connection.type;

        var states = {};
        states[Connection.UNKNOWN]  = 'Unknown connection';
        states[Connection.ETHERNET] = 'Ethernet connection';
        states[Connection.WIFI]     = 'WiFi connection';
        states[Connection.CELL_2G]  = 'Cell 2G connection';
        states[Connection.CELL_3G]  = 'Cell 3G connection';
        states[Connection.CELL_4G]  = 'Cell 4G connection';
        states[Connection.NONE]     = 'No network connection';

        alert('You are connected to ' + states[networkState]);
		if(networkState == Connection.NONE)
		{
		   navigator.notification.alert('No connectivity!',  alertDismissed, 'No connectivity', 'Done'  );
		}
		else
		{
        	navigator.notification.alert('Ready to go!',  alertDismissed, 'Starting online appointments', 'Done'  );
        	window.location="http://ola.avon.com.au/test";
        }
    }

	function onOnline() {
    	// Handle the online event
	    navigator.notification.alert('You are Online!',  alertDismissed, 'Game On', 'Done'  );
	    window.location="http://ola.avon.com.au/test";
	}

    </script>
  </head>
  <body onload="onLoad()">
  		<div data-role="page" data-theme="a" id="start"  >
  			<a href="http://ola.avon.com.au/test" data-role="button" data-icon="star">Star button</a>

  		</div>
  </body>
</html>
